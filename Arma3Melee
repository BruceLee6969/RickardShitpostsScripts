------- MELEE (WKB ANIMATIONS) -------
IMPORTANT:
//It is mandatory to play "The Only Thing They Fear Is You" by Mick Gordon while using this.

//PERFORM MELEE ANIMATION
//FIND NEAREST TARGET WHO IS ALSO WITHIN RANGE AND INFRONT OF PLAYER
//USE LOOP TO ITERATE THROUGH ARRAY, USE IF-STATEMENT AND BREAK LOOP IF TARGET IS FOUND INFRONT OF PLAYER
//ROTATE TARGET TO FACE PLAYER
//FORCE TARGETTED UNIT TO GET KNOCKED BACK AND DIE

if(!local this) exitWith{};
player allowDamage false;
player addAction ["<t color='#FF000'>PUNCH</t>", {

player switchMove "WBK_FISTS_ATTACK_1";
private _tArr = (getPos player) nearEntities ["Man", 2];

if(count _tArr > 1) then {
  comment("Because <= 1 means there is no one else to punch but themselves");
  for "_i" from 0 to count(_tArr) do {

   if(_tArr select _i isKindOf "man" && (player getRelDir (getPos _tArr select "_i") <= 20 || player getRelDir (getPos _tArr select "_i") >= (360-20)) && _tArr select "_i" != this && (_tArr select _i distance player <= 1.2)) then {
    _tArr select _i setDir (getDir player);
    _i = count(_tArr);
  
  };

};};

}, [1], 6, false, true, "", "_target == player"];
